<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BBB AO VIVO</title>
    
    <!-- Favicon (√≠cone da aba do navegador) -->
<link rel="icon" href="https://i.imgur.com/Wfiv3jE.png" type="https://i.imgur.com/Wfiv3jE.png">
    
<style>
:root {
    --bg: #0a0a0d;
    --panel: #18181b;
    --border: #27272a;
    --primary: #6366f1;
    --text: #f4f4f5;
    --muted: #a1a1aa;
}

/* GERAL */
* { box-sizing: border-box; }
body {
    background: var(--bg);
    color: #fff;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
    margin: 0;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
}

/* HEADER */
header {
    padding: 10lpx 20px;
    font-size: 1.2rem;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
    
    header h1 {
    font-size: 1.1rem;
    margin: 0;
}
header span { color: var(--primary); }
  
  #btnAjuda {
    background: rgba(99,102,241,0.15); /* lil√°s suave */
    border: 1px solid rgba(99,102,241,0.6);
    color: var(--primary);
    padding: 7px 16px;
    border-radius: 999px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;

    transition:
        background 0.25s ease,
        box-shadow 0.25s ease,
        transform 0.2s ease;
}

#btnAjuda:hover {
    background: rgba(99,102,241,0.25);
    box-shadow: 0 0 0 3px rgba(99,102,241,0.25);
    transform: translateY(-1px);
}

#btnAjuda:active {
    transform: scale(0.96);
}

/* PLAYER */
.player-container {
    width: 100%;
    aspect-ratio: 16 / 9;
    background: black;
    position: relative;

}
.player-container iframe {
    width: 100%;
    height: 100%;
    border: none;
}
  
 #playerPlaceholder {
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#a1a1aa;
    font-size:1rem;
    background:black;
    z-index:2;
}
  
.player-container::after {
    content: "Carregando c√¢mera...";
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,.45);
    color: var(--muted);
    font-size: .9rem;
    pointer-events: none;
    opacity: 0;
    transition: .25s;
    z-index: 3;
}
  
 .player-container.loading::after {
    opacity: 1;
}
  

/* CAMERAS HORIZONTAL SCROLL */
.cam-track {
    display: flex;
    gap: 10px;
    padding: 6px 15px;
    overflow-x: auto;
    scroll-behavior: smooth;
    background: #111114;
}
.cam-track::-webkit-scrollbar { height: 8px; }
.cam-track::-webkit-scrollbar-thumb { background: var(--gray); border-radius: 2px; }
.cam-card {
    min-width: 100px;
    height: 50px;
    background: #27272a;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border: 2px solid transparent;
    transition: .25s;
    font-size: .8rem;
    font-weight: 600;
}
.cam-card:hover { transform: scale(1.1); border-color: var(--active); color: var(--accent); }
    
    /* Bot√£o ativo da c√¢mera */
.cam-card.active {
    border-color: var(--primary); /* borda lil√°s */
    transform: scale(1.1); /* aumenta levemente */
}
    

/* CONTAINER DO SANDBOX + ONLINE */ 


/* CAIXA ONLINE */
#onlineBox {
  display: flex;
    align-items: center;
    gap: 6px;
    font-size: .7rem;
}

/* MODAL DE AVISO */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.85);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}
    
.modalContent {
    background: rgba(31, 31, 46, 0.85); /* fundo escuro com transpar√™ncia tipo modal nome */
    backdrop-filter: blur(6px);         /* efeito emba√ßado */
    color: #fff;
    border-radius: 18px;
    border: 1px solid rgba(99,102,241,0.35); /* borda lil√°s suave */
    padding: 26px;
    max-width: 400px;
    width: 90%;
    text-align: center;
    position: relative;
    box-shadow: 
        0 0 0 1px rgba(99,102,241,0.15),
        0 20px 50px rgba(0,0,0,0.75);
}
    
.modalContent img {
    max-width: 100%;
    max-height: 200px;
    margin-bottom: 15px;
    border-radius: 8px;
}
    
.modalContent button {
    padding: 10px 16px;
    background: var(--primary);  /* lil√°s */
    border: none;
    color: #fff;                 /* texto branco */
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 15px;
    transition: 0.2s;
}

.modalContent button:hover {
    background: #7c7fff;  /* lil√°s mais claro ao passar o mouse */
}
    
    /* anima√ß√£o de abrir e fechar modal */
@keyframes fadeInScale {
  0% { opacity: 0; transform: scale(0.95); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes fadeOutScale {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(0.95); }
}

/* ao mostrar */
.modal.show .modalContent {
  animation: fadeInScale 0.25s ease forwards;
}

/* ao esconder */
.modal.hide .modalContent {
  animation: fadeOutScale 0.25s ease forwards;
}
    

/* CHAT */
.chat-container {
    width: auto;
    background: #111;
    border-left: 1px solid var(--border);
    display: flex;
    flex-direction: column;
}


.messages {
    height: 250px;
    padding: 12px 20px;
    overflow-y: auto;
    word-wrap: break-word;
    white-space: pre-wrap;
    background: #0f0f12;
}


.msg {
    background: rgba(255, 255, 255, 0.05);
    padding: 8px 12px;
    border-radius: 12px;
    margin-bottom: 8px;
    font-size: 14px;
    animation: msgAppear 0.4s ease;
}

.msg b { color: #aaa; font-weight: 500; }

.input-area {
    display: flex;
    gap: 5px;
    padding: 8px 20px 25px;
    background: #0f0f12;
    border-top: 1px solid var(--border);
}

.input-area input {
    flex: 1;
    background: #1b1b24; /* fundo destacado */
    border: 1px solid rgba(99,102,241,0.35); /* lil√°s */
    border-radius: 14px;
    padding: 12px 18px;
    color: #fff;
    outline: none;
    font-size: 14px;
}

/* Placeholder */
.input-area input::placeholder {
    color: #a1a1aa;
}

/* Quando clica */
.input-area input:focus {
    border-color: var(--primary);
}

button {
    background: #fff;
    color: #000;
    border: none;
    border-radius: 14px;
    padding: 0 20px;
    font-size: 18px;
    cursor: pointer;
}

/* MODAL NOME ‚Äî ESTILO LIL√ÅS */
.name-modal {
    position: fixed;
    inset: 0;
    background: rgba(10,10,20,0.75);
    backdrop-filter: blur(6px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.name-box {
    background: linear-gradient(
        180deg,
        #1f1f2e,
        #141420
    );
    padding: 26px;
    border-radius: 18px;
    width: 85%;
    max-width: 320px;
    text-align: center;

    border: 1px solid rgba(99,102,241,0.35);
    box-shadow:
        0 0 0 1px rgba(99,102,241,0.15),
        0 20px 50px rgba(0,0,0,0.75);
    
    animation: fadeIn 0.3s ease;
}

.name-box h2 {
    margin: 0 0 8px;
    font-size: 1.1rem;
    font-weight: 700;
    color: #f4f4f5;
}

.name-box p {
    font-size: 0.8rem;
    color: var(--muted);
    margin-bottom: 16px;
}

.name-box input {
    width: 100%;
    background: #0f0f16;
    border: 1px solid rgba(99,102,241,0.35);
    border-radius: 12px;
    padding: 12px 14px;
    color: white;
    outline: none;
    margin-bottom: 16px;
}

.name-box input:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99,102,241,0.25);
}

.name-box button {
    width: 100%;
    background: linear-gradient(
        135deg,
        #6366f1,
        #7c7fff
    );
    border: none;
    border-radius: 12px;
    padding: 12px;
    font-weight: 700;
    color: white;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.name-box button:hover {
    box-shadow: 0 10px 25px rgba(99,102,241,0.45);
    transform: translateY(-1px);
}

.name-box button:active {
    transform: scale(0.96);
}  
  
  /* MODAIS */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.7);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

.modal-box {
    background: #18181b;
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 28px;
    width: 90%;
    max-width: 520px;
}

.modal-box h2 {
    margin-top: 0;
}

.help-cards {
    display: grid;
    grid-template-columns: 1fr;
    gap: 14px;
}

.help-card {
    background: #0f0f12;
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px;
}

.help-card h3 {
    margin: 0 0 6px;
    font-size: .95rem;
    color: var(--primary);
}

.help-card p {
    font-size: .85rem;
    color: var(--muted);
    line-height: 1.4;
}

.close-help {
    margin-top: 18px;
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: none;
    background: var(--primary);
    color: white;
    font-weight: 600;
    cursor: pointer;
}
  
   /* BOT√ÉO ‚ò∞ */
.menu-btn {
    background: transparent;
    border: none;
    color: white;
    font-size: 1.7rem;
    cursor: pointer;
    padding: 6px 10px;
    border-radius: 10px;
    transition: 
        background 0.25s ease,
        transform 0.25s cubic-bezier(.34,1.56,.64,1);
}

.menu-btn:hover {
    background: rgba(255,255,255,0.12);
    transform: scale(1.05);
}

/* OVERLAY */
.side-menu {
    position: fixed;
    inset: 0;
    background: radial-gradient(
        circle at left,
        rgba(0,0,0,0.7),
        rgba(0,0,0,0.9)
    );
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.35s ease;
    z-index: 1000;
}
  
    /* ANIMA√á√ÉO E ACORDE√ÉO */
.help-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.35s ease;
  margin-top: 0;
}

.help-title {
  cursor: pointer;
  user-select: none;
}

.help-card.active .help-content {
  max-height: 1000px; /* Valor grande o suficiente para o conte√∫do */
  margin-top: 10px;
}
  
    /* Anima√ß√£o do modal */
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes fadeOut {
  from { opacity: 1; transform: scale(1); }
  to { opacity: 0; transform: scale(0.95); }
}

.modal.show {
  display: flex;
  animation: fadeIn 0.25s ease forwards;
}

.modal.hide {
  animation: fadeOut 0.25s ease forwards;
}
  
  /* ATIVO */
.side-menu.active {
    opacity: 1;
    pointer-events: auto;
}

.side-menu.active .side-menu-content {
    transform: translateX(0) scale(1);
}

/* PERFIL */
.menu-profile {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 30px;
    opacity: 0;
    transform: translateY(10px);
    transition: 0.4s ease;
}

.side-menu.active .menu-profile {
    opacity: 1;
    transform: translateY(0);
}

.profile-icon {
    width: 46px;
    height: 46px;
    border-radius: 50%;
    background: linear-gradient(145deg, #27272a, #18181b);
    box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.08),
        0 6px 16px rgba(0,0,0,0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: #d4d4d8;
}

/* LINKS */
.menu-links {
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.menu-links button {
    background:
        linear-gradient(
            135deg,
            rgba(255,255,255,0.06),
            rgba(255,255,255,0.02)
        );
    border: 1px solid rgba(255,255,255,0.08);
    color: white;
    padding: 14px 16px;
    border-radius: 14px;
    cursor: pointer;
    text-align: left;
    font-size: 0.95rem;

    opacity: 0;
    transform: translateY(12px) scale(0.96);
    transition:
        transform 0.35s cubic-bezier(.34,1.56,.64,1),
        opacity 0.35s ease,
        box-shadow 0.25s ease;
}

/* entrada em cascata */
.side-menu.active .menu-links button {
    opacity: 1;
    transform: translateY(0) scale(1);
}

.menu-links button:nth-child(1) { transition-delay: 0.12s; }
.menu-links button:nth-child(2) { transition-delay: 0.18s; }
.menu-links button:nth-child(3) { transition-delay: 0.24s; }

/* hover PREMIUM */
.menu-links button:hover {
    box-shadow:
        0 10px 25px rgba(0,0,0,0.5),
        inset 0 0 0 1px rgba(255,255,255,0.15);
    transform: scale(1.04);
}

/* clique */
.menu-links button:active {
    transform: scale(0.96);
}
  
    
    /* Anima√ß√£o de mensagem aparecendo */
@keyframes msgAppear {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
}

.msg {
    animation: msgAppear 0.4s ease;
}
    
   body, html {
    margin: 0;
    padding: 0;
    height: 100%;
}

.app {
    height: 100vh;
    display: flex;
    flex-direction: column;
    background: #0a0a0d;
}
    
   /* Mensagem do ADMIN */
/* Mensagem do ADMIN */
.admin-msg {
    background-color: #5752d4; /* lil√°s escuro */
    color: #ffffff;            /* texto branco */
    padding: 8px 12px;
    border-radius: 12px;
    margin-bottom: 8px;
    font-size: 14px;           /* mesma fonte das mensagens normais */
    word-wrap: break-word;
    white-space: pre-wrap;
}
.admin-msg b {
    color: #ffffff;            /* mant√©m o nome branco */
}
}
.admin-msg b {
    color: #ffffff;            /* mant√©m o nome branco */
}
    
    /* CONTAINER */
.side-menu-content {
    width: 280px;
    height: 100%;
    background:
        linear-gradient(
            180deg,
            #1f1f26,
            #0c0c10
        );
    padding: 24px;
    transform: translateX(-110%) scale(0.98);
    transition:
        transform 0.45s cubic-bezier(.22,1,.36,1);
    box-shadow:
        12px 0 40px rgba(0,0,0,0.7),
        inset -1px 0 rgba(255,255,255,0.06);
}
    
    .layout {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 60px); /* altura menos o header */
}

    /* BOT√ÉO ENVIAR CHAT (LIL√ÅS) */
#sendBtn {
    background: linear-gradient(
        135deg,
        #6366f1,
        #7c7fff
    );
    color: white;
    border-radius: 14px;
    padding: 0 20px;
    font-size: 18px;
    cursor: pointer;

    box-shadow:
        0 8px 20px rgba(99,102,241,0.45);

    transition:
        transform 0.2s ease,
        box-shadow 0.2s ease;
}


#sendBtn:active {
    transform: scale(0.95);
}
    
    /* HEADER DO CHAT */
.chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 18px;   
    );
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
}

/* T√çTULO */
.chat-title {
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 1px;
    color: var(--muted);
}

/* STATUS ONLINE */
.online-status {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    color: #d4d4d8;
}

/* BOLINHA VERDE */
.online-status .dot {
    width: 8px;
    height: 8px;
    background: #22c55e;
    border-radius: 50%;
    box-shadow: 0 0 6px rgba(34,197,94,0.7);
}
    
    

/* ===== LAYOUT PRINCIPAL ===== */
.page {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 60px); /* header */
}

/* ===== MOBILE (padr√£o) ===== */
.left-column {
  display: flex;
  flex-direction: column;
}

.chat {
  width: 100%;
}

/* ===== PC ===== */
@media (min-width: 1024px) {

  .page {
    flex-direction: row;
  }

  .left-column {
    flex: 2;
    display: flex;
    flex-direction: column;
    min-width: 0;
  }

  .player-container {
    height: 420px;
  }

  /* c√¢meras N√ÉO esticam mais a tela */
  .cam-track {
    max-width: 100%;
    overflow-x: auto;
    flex-shrink: 0;
  }

  .chat {
    flex: 1;
    display: flex;
    flex-direction: column;
    border-left: 1px solid var(--border);
  }

  /* CHAT COM ALTURA FIXA */
  .chat-container {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .messages {
    flex: 1;
    overflow-y: auto;
    height: auto; /* remove crescimento infinito */
  }

  .input-area {
    flex-shrink: 0;
  }
}


     /* ===== CORRE√á√ÉO MOBILE SEGURA ===== */

@supports (height: 100dvh) {
    .layout {
        height: calc(100dvh - 60px);
    }
}

@media (max-width: 768px) {
    body {
        min-height: 100dvh;
    }
} 
    
    
    
</style>

<script>
(function(){
    let userId = localStorage.getItem("bbb_user_id");
    if(!userId){
        userId = "user_" + Math.random().toString(36).substring(2,10);
        localStorage.setItem("bbb_user_id", userId);
    }
    window.BBB_USER_ID = userId;
})();
</script>

</head>
<body>

<header>
    
  
   <!-- BOT√ÉO DO MENU -->
    <button id="menuBtn" class="menu-btn">‚ò∞</button>
    <h>BBB <span>Ao Vivo</span></h>
    <button id="btnAjuda">Ajuda</button>
</header>

<div class="page">

  <div class="left-column">
    <div class="player-container" id="mainPlayer">
      <div id="playerPlaceholder">Escolha uma c√¢mera</div>
      <iframe 
    id="videoPlayer"
    allowfullscreen
    allow="fullscreen; autoplay; encrypted-media; picture-in-picture"
></iframe>
    </div>

    <div class="cam-track">
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb1">C√¢mera 1</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb2">C√¢mera 2</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb3">C√¢mera 3</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb4">C√¢mera 4</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb5">C√¢mera 5</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb6">C√¢mera 6</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb7">C√¢mera 7</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb8">C√¢mera 8</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb9">C√¢mera 9</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbb10">C√¢mera 10</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/bbbmosaico">Mosaico</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb1alternativo">C√¢mera 12</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb2alternativo">C√¢mera 13</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb3alternativo">C√¢mera 14</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb4alternativo">C√¢mera 15</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb5alternativo">C√¢mera 16</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb6alternativo">C√¢mera 17</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb7alternativo">C√¢mera 18</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb8alternativo">C√¢mera 19</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb9alternativo">C√¢mera 20</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb10alternativo">C√¢mera 21</div>
            <div class="cam-card" data-url="https://rdcanais.top/bbb11alternativo">C√¢mera 22</div>
            <div class="cam-card" data-url="https://www2.embedtv.best/globors">Globo</div>
            <div class="cam-card" data-url="https://rdcanais.top/globosp">Globo Alt</div>
            <div class="cam-card" data-url="https://nossoplayeronlinehd.site/tv/globosp">Globo 2</div>
        </div>
    </div>
  
  
   <aside class="chat">
    <div class="chat-header">
        <span class="chat-title">CHAT AO VIVO</span>

        <div class="online-status">
            <span class="dot"></span>
            <span id="onlineBox">0 ONLINE</span>
        </div>
    </div>

<div class="chat-container">
    <div class="messages" id="messageBox"></div>
    <div class="input-area">
        <input type="text" id="chatInput" placeholder="Digite sua mensagem...">
        <button id="sendBtn">‚û§</button>
    </div>
</div>
      
      
<!-- MODAL AJUDA -->
<div class="modal" id="helpModal">
    <div class="modal-box">
        <h2>Central de Ajuda</h2>

 <div class="help-card">
  <h3 class="help-title">Algumas c√¢meras n√£o funcionam</h3>

  <div class="help-content">
    <p>
      <strong>Por que isso acontece?</strong><br>
      Algumas operadoras bloqueiam seu acesso a esse tipo de transmiss√£o, pelo DNS da operadora.
      
    </p>

    <p>
      <strong>Como resolver:</strong>
    </p>

    <p>
      1Ô∏è‚É£ Baixe o aplicativo <strong>1.1.1.1 (WARP)</strong> na Play Store.<br><br>
      2Ô∏è‚É£ Abra o aplicativo e ative a conex√£o (espere mostrar que est√° conectado).<br><br>
      3Ô∏è‚É£ Volte para este site e atualize a p√°gina.<br><br>
      ‚úÖ Pronto! Algumas c√¢meras que n√£o funcionavam devem voltar normalmente.
    </p>
  </div>
</div>

<div class="help-card">
  <h3 class="help-title">A transmiss√£o fica pausada ou aparecem an√∫ncios</h3>

  <div class="help-content">
    <p>
      <strong>Motivo:</strong><br>
      Algumas transmiss√µes podem iniciar pausadas ou exibir an√∫ncios.
      Esses an√∫ncios ajudam a manter a transmiss√£o ao vivo funcionando 24 horas.
    </p>

    <p>
      <strong>Solu√ß√£o:</strong><br>
      ‚Ä¢ Se voc√™ foi direcionado para outra p√°gina, volte ao site e clique no play novamente (repita esse processo at√© funcionar).<br>
      ‚Ä¢ Caso a transmiss√£o continue pausada, atualize a p√°gina.
    </p>
  </div>
</div>

<div class="help-card">
  <h3 class="help-title">Algumas c√¢meras travam ou demoram para carregar</h3>

  <div class="help-content">
    <p>
      <strong>Motivo:</strong><br>
      Isso pode acontecer por instabilidade no servidor da transmiss√£o,
      manuten√ß√£o tempor√°ria ou conex√£o de internet lenta.
    </p>

    <p>
      <strong>Solu√ß√£o:</strong><br>
      ‚Ä¢ Aguarde alguns instantes e tente novamente.<br>
      ‚Ä¢ Verifique sua conex√£o com a internet.<br>
      ‚Ä¢ Se necess√°rio, atualize a p√°gina.<br><br>
      Na maioria dos casos, a transmiss√£o volta ao normal em poucos segundos.
    </p>
  </div>
</div>
      

        <button class="close-help" id="closeHelp">Entendi</button>
    </div>
</div>
        
                  <!-- MENU LATERAL -->
<div class="side-menu" id="sideMenu">
    <div class="side-menu-content">

        <!-- PERFIL -->
        <div class="menu-profile">
            <div class="profile-icon">üë§</div>
            <div class="profile-name" id="menuUsername">Usu√°rio</div>
        </div>

        <!-- OP√á√ïES -->
        <nav class="menu-links">
            <button id="menuSobre">Sobre</button>
            <button id="menuSuporte">Suporte</button>
        </nav>

    </div>
</div>
      
      
    
    <div class="modal" id="sobreModal">
  <div class="modal-box">
    <h2>Sobre o projeto</h2>

    <div class="help-card active">
      <p>
        O <strong>BBB Ao Vivo</strong> √© um projeto independente criado
        para facilitar o acesso √†s c√¢meras ao vivo em um √∫nico lugar totalmente de gra√ßa!
        Com interface moderna, leve e responsiva.
      </p>
      <p>
        As transmiss√µes s√£o incorporadas de fontes p√∫blicas, encontradas pela internet.
      </p>
    </div>

    <button class="close-help" onclick="fecharModalGenerico('sobreModal')">
      Fechar
    </button>
  </div>
</div>
    
    <div class="modal" id="suporteModal">
  <div class="modal-box">
    <h2>Suporte</h2>

    <div class="help-card active">
      <p>
        Est√° com problemas nas transmiss√µes ou encontrou algum erro?
      </p>

      <p>
        Entre em contato conosco.
      </p>

      <p style="color: var(--primary); font-weight: 600;">
        ‚úÜ WhatsApp: (91) 99251-1446
         ‚å≤Telegram: t.me/maicon_dev1
      </p>
    </div>

    <button class="close-help" onclick="fecharModalGenerico('suporteModal')">
      Fechar
    </button>
  </div>
</div>
      

<!-- MODAL NOME -->
<div class="name-modal" id="nameModal">
    <div class="name-box">
        <h2>Bem-vindo üëã</h2>
        <p>Escolha um nome para participar do chat</p>
        <input type="text" id="nameInput" placeholder="Seu nome">
        <button id="enterNameBtn">Entrar</button>
    </div>
</div>

<div class="modal" id="modal">
    <div class="modalContent">
        <div id="modalImg"></div>
        <h2 id="modalTitle"></h2>
        <div id="modalText" style="margin-bottom:10px;"></div>
        <button id="fecharModal">Fechar</button>
    </div>
</div>
      

      
      

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
import { 
  getDatabase, 
  ref, 
  onChildAdded, 
  set, 
  onDisconnect, 
  onValue, 
  push, 
  remove,
  query,
  orderByChild,
    get
} from "https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js";
    
const firebaseConfig = {
 apiKey: "AIzaSyB-zO8hXZfSHNjAvYMRk7zRlWAmSNqcE00",
  authDomain: "bbb-aovivo-5b344.firebaseapp.com",
  databaseURL: "https://bbb-aovivo-5b344-default-rtdb.firebaseio.com",
  projectId: "bbb-aovivo-5b344",
  storageBucket: "bbb-aovivo-5b344.firebasestorage.app",
  messagingSenderId: "882564424285",
  appId: "1:882564424285:web:7d649bc3e30309841463b4"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

/* MODAL DE AVISO */
const modal = document.getElementById("modal");
const modalText = document.getElementById("modalText");
const modalImg = document.getElementById("modalImg");
const fecharBtn = document.getElementById("fecharModal");

fecharBtn.onclick = () => {
    if(modal.dataset.key) {
        localStorage.setItem(`fechado_${modal.dataset.key}`, "true");
    }
    modal.classList.remove("show");
    modal.classList.add("hide");

    // remove display ap√≥s a anima√ß√£o
    setTimeout(() => {
        modal.style.display = "none";
        modal.classList.remove("hide");
    }, 250); // tempo igual ao da anima√ß√£o
};
      
      

function mostrarModal(key, titulo, texto, imagem){
    if(localStorage.getItem(`fechado_${key}`) === "true") return false;
    modal.dataset.key = key;
    document.getElementById("modalTitle").textContent = titulo || "Aviso";
    modalText.textContent = texto || "";
    modalImg.innerHTML = imagem ? `<img src="${imagem}">` : "";
    modal.style.display = "flex";
}

function iniciarSistemaAvisos() {
    onChildAdded(ref(db, "avisos"), snapshot => {
        const data = snapshot.val();
        if(!data) return;
        mostrarModal(snapshot.key, data.titulo, data.texto, data.imagem);
    });
}

/* CAMERAS */
const iframe = document.getElementById("videoPlayer");
const camCards = document.querySelectorAll(".cam-card");
const playerBox = document.getElementById("mainPlayer");
const placeholder = document.getElementById("playerPlaceholder");

// Estado inicial
iframe.src = "";
placeholder.style.display = "flex";
playerBox.classList.remove("loading");

// Clique nas c√¢meras
camCards.forEach(card => {
    card.addEventListener("click", () => {

        // Remove ativo de todas
        camCards.forEach(c => c.classList.remove("active"));
        card.classList.add("active");

        // Esconde "Escolha uma c√¢mera"
        placeholder.style.display = "none";

        // Mostra "Carregando c√¢mera..."
        playerBox.classList.add("loading");

        // Troca o iframe
        iframe.src = card.dataset.url;

        // Remove loading ap√≥s carregar
        setTimeout(() => {
            playerBox.classList.remove("loading");
        }, 2400);
    });
});

      


/* ONLINE */
const onlineBox = document.getElementById("onlineBox");
let UID = localStorage.getItem("bbb_uid");
if(!UID) {
    UID = 'uid_' + Math.random().toString(36).substr(2, 9) + Date.now();
    localStorage.setItem("bbb_uid", UID);
}
const userRef = ref(db, "online/" + UID);
set(userRef, true);
onDisconnect(userRef).remove();
onValue(ref(db, "online"), snapshot => {
    const users = snapshot.val();
    const count = users ? Object.keys(users).length : 0;
    onlineBox.textContent = `${count} ONLINE`;
});

/* REGISTRO DE USU√ÅRIO */
set(ref(db, "usuarios/" + UID), {
    online: true,
    entrouEm: new Date().toLocaleString()
});
window.addEventListener("beforeunload", () => remove(ref(db, "usuarios/" + UID)));

/* BAN AUTOM√ÅTICO */
const palavrasProibidas = ["script", "iframe", "onerror", "onload", "eval", "document.",
    "javascript:", "window.", "alert(", "confirm(", "prompt(", "src=", "href=", "location.",
    "fetch(", "XMLHttpRequest", "localStorage", "sessionStorage", "innerHTML",
    "outerHTML", "setAttribute(", "getAttribute(", "replace(", "appendChild", "removeChild",
    "insertBefore", "eval(", "Function(", "while(", "for(", "do{", "document.write"
];
function mensagemSuspeita(texto) {
    texto = texto.toLowerCase();
    return palavrasProibidas.some(p => texto.includes(p));
}

function banirAutomatico(motivo) {
    set(ref(db, "banidos/" + UID), { motivo: motivo, data: new Date().toLocaleString() });
    push(ref(db, "logs"), { uid: UID, acao: "BAN AUTOM√ÅTICO", motivo: motivo, data: new Date().toLocaleString() });
    alert("üö´ Voc√™ foi bloqueado por ter usado palavras proibidas!");
}

onValue(ref(db, "banidos/" + UID), snap => {
    if(snap.exists()){
        document.body.innerHTML = `
        <div style="
            height:100vh;
            display:flex;
            align-items:center;
            justify-content:center;
            background:#000;
            color:#fff;
            text-align:center;">
            <div>
                <h2>üö´ Acesso bloqueado</h2>
                <p>Voc√™ foi banido do sistema por ter violado as regras do site.</p>
            </div>
        </div>`;
    }
});

/* ------------------- MODAL NOME ------------------- */
let chatUsername = localStorage.getItem('chatName');
const nameModal = document.getElementById('nameModal');

if(!chatUsername){
    nameModal.style.display = 'flex';
} else {
    nameModal.style.display = 'none';
    iniciarSistemaAvisos(); // üëà CHAMA AQUI TAMB√âM
}

function saveName() {
    const nameInput = document.getElementById('nameInput');
    const name = nameInput.value.trim();
    if(!name) return alert('Digite um nome v√°lido!');
    
    localStorage.setItem('chatName', name);
    chatUsername = name;
    
    document.getElementById("menuUsername").textContent = name;
    
    document.getElementById('nameModal').style.display = 'none';
iniciarSistemaAvisos();
    
}    
    

// Bot√£o Entrar
document.getElementById('enterNameBtn').addEventListener('click', saveName);

// Enter no input do nome
document.getElementById('nameInput').addEventListener('keypress', (e) => {
    if(e.key === 'Enter') saveName();
});

/* ------------------- CHAT ------------------- */
const chatInput = document.getElementById('chatInput');
const sendBtn = document.getElementById('sendBtn');
const messageBox = document.getElementById('messageBox');

// Fun√ß√£o para enviar mensagens
function sendMsg() {
    const username = localStorage.getItem('chatName');
    if(!username) {
        alert('Escolha um nome antes de enviar mensagens!');
        return;
    }

    const text = chatInput.value.trim();
    if(!text) return;
  
  // üî¥ Ban autom√°tico
    if(mensagemSuspeita(text)){
        banirAutomatico("Mensagem suspeita detectada");
        return; // n√£o envia a mensagem
    }

    // Envia a mensagem para o Firebase
    push(ref(db, "chat"), {
        user: username,
        userId: UID, // üëà garante que o UID v√° junto
        message: text,
        timestamp: Date.now()
    });

    chatInput.value = '';
}

// Eventos para envio de mensagens
sendBtn.addEventListener('click', sendMsg);
chatInput.addEventListener('keypress', (e) => {
    if(e.key === 'Enter') sendMsg();
});

// ---------- RECEBER MENSAGENS ----------
onChildAdded(ref(db, "chat"), snapshot => {
    const data = snapshot.val();
    if (!data) return;

    const msg = document.createElement('div');
    msg.className = 'msg';
    msg.innerHTML = `<b>${data.user}:</b> ${data.message}`;

    messageBox.appendChild(msg);
    messageBox.scrollTop = messageBox.scrollHeight;

    // üîé Verifica admin SEM atrasar a renderiza√ß√£o
    get(ref(db, "admins/" + data.userId)).then(snap => {
        if (snap.exists()) {
            msg.classList.add('admin-msg');
            msg.innerHTML = `‚ú¶ <b>${data.user} [ADMIN]:</b> ${data.message}`;
        }
    });
});
      
      /* AJUDA */
const btnAjuda = document.getElementById("btnAjuda");
const helpModal = document.getElementById("helpModal");
const closeHelp = document.getElementById("closeHelp");

btnAjuda.onclick = () => {
  helpModal.style.display = "flex"; // garante que o modal fique vis√≠vel
  helpModal.classList.remove("hide");
  helpModal.classList.add("show");
};

function fecharModal() {
  helpModal.classList.remove("show");
  helpModal.classList.add("hide");
  
  // Espera a anima√ß√£o terminar antes de ocultar totalmente
  helpModal.addEventListener("animationend", () => {
    if(helpModal.classList.contains("hide")){
      helpModal.style.display = "none"; // s√≥ aqui some do DOM
    }
  }, { once: true });
}

closeHelp.onclick = fecharModal;
helpModal.onclick = e => {
  if(e.target === helpModal) fecharModal();
};
</script>
  
  <script>
  document.querySelectorAll('.help-title').forEach(title => {
  title.addEventListener('click', () => {
    const card = title.parentElement;
    
    // Fecha todos os outros cards
    document.querySelectorAll('.help-card').forEach(c => {
      if(c !== card) c.classList.remove('active');
    });
    
    // Alterna o card clicado
    card.classList.toggle('active');
  });
});
        
        
            // ===== MENU LATERAL =====
const menuBtn = document.getElementById("menuBtn");
const sideMenu = document.getElementById("sideMenu");
const menuUsername = document.getElementById("menuUsername");

menuBtn.onclick = () => {
    sideMenu.classList.add("active");
};

sideMenu.onclick = (e) => {
    if (e.target === sideMenu) {
        sideMenu.classList.remove("active");
    }
};

// PUXA NOME DO USU√ÅRIO
const username = localStorage.getItem("chatName");

if (username) {
    menuUsername.textContent = username;
}

document.getElementById("menuSobre").onclick = () => {
    abrirModal("sobreModal");
};

document.getElementById("menuSuporte").onclick = () => {
    abrirModal("suporteModal");
};
    
    function abrirModal(id) {
  const modal = document.getElementById(id);
  modal.style.display = "flex";
  modal.classList.remove("hide");
  modal.classList.add("show");
}

function fecharModalGenerico(id) {
  const modal = document.getElementById(id);
  modal.classList.remove("show");
  modal.classList.add("hide");

  modal.addEventListener("animationend", () => {
    if (modal.classList.contains("hide")) {
      modal.style.display = "none";
    }
  }, { once: true });
}
    
      
</script>

</body>
</html>
